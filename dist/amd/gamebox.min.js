/*! gamebox - v0.2.0-beta1 - 23-05-2015 */
define("gamebox/assetloader",["exports","module","eventmap","./log"],function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a["default"]:a}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)}var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function(a,b,c){for(var d=!0;d;){h=j=i=void 0,d=!1;var e=a,f=b,g=c,h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0}},j=e(c),k=(e(d),function(a){function b(a){f(this,b),i(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.assets=a||{},this.files={},this.maxAssets=0,this.assetsLoaded=0,this.percentLoaded=0,this.cache={}}return g(b,a),h(b,[{key:"start",value:function(){}}]),b}(j));b.exports=k}),define("gamebox",["exports","module","./assetloader","./input","./loop","./log","./timer","./math","./types"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){return a&&a.__esModule?a["default"]:a}var k=j(c),l=j(d),m=j(e),n=j(f),o=j(g),p=j(h),q=j(i);b.exports={AssetLoader:k,Input:l,Loop:m,Log:n,Timer:o,Math:p,Types:q}}),define("gamebox/input",["exports","module","eventmap","./key"],function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a["default"]:a}var f=e(c),g=e(d),h={};h.Key=g,h.define=g.define,h.key=new f,window.addEventListener("keydown",function(a){h.key.trigger({name:"down",context:g},a.keyCode)},!0),window.addEventListener("keyup",function(a){h.key.trigger({name:"up",context:g},a.keyCode)},!0),b.exports=h}),define("gamebox/key",["exports","module"],function(a,b){"use strict";var c={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,escape:27,left:37,up:38,right:39,down:40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semiColon:186,equalSign:187,comma:188,dash:189,period:190,forwardSlash:191,openBracket:219,backSlash:220,closeBraket:221,singleQuote:222};c.define=function(a,b){null!=a&&null!=b&&(Object.hasOwnProperty.call(c,a)||("function"==typeof b?Object.defineProperty(c,a,{get:b}):c[a]=b))},b.exports=c}),define("gamebox/log",["exports","module"],function(a,b){"use strict";var c=function(){var a={};a.connector=null,a.plugins={},a.plugins.console={e:function(){return window.console&&window.console.error?window.console.error.apply(window.console,arguments):void 0},w:function(){return window.console&&window.console.warn?window.console.warn.apply(window.console,arguments):void 0},i:function(){return window.console&&window.console.info?window.console.info.apply(window.console,arguments):void 0},d:function(){return window.console&&window.console.log?window.console.log.apply(window.console,arguments):void 0},v:function(){return window.console&&window.console.log?window.console.log.apply(window.console,arguments):void 0}},a.connector=a.plugins.console,a.logLevelMap={error:["e"],warn:["w","e"],info:["i","w","e"],debug:["d","i","w","e"],verbose:["v","d","i","w","e"]},a.logLevel="verbose";for(var b=["v","d","i","w","e"],c=0,d=b.length;d>c;c++)!function(b){a[b]=function(){a.logLevelMap[a.logLevel].indexOf(b)>=0&&a.connector[b].apply(this,arguments)}}(b[c]);return a}();b.exports=c}),define("gamebox/loop",["exports","module","animframe","eventmap","./timer"],function(a,b,c,d,e){"use strict";function f(a){return a&&a.__esModule?a["default"]:a}var g=f(d),h=f(e),i=new g,j={},k=[],l=function(){var a=!0,b=function(){var b;!function d(){c.requestAnimationFrame.call(window,d);var e=c.performance.now(),f=e-(b||e);if(b=e,a){k.forEach(function(a){a.tick(e)});for(var g=Object.keys(i.events.listeners),h=0,l=g.length;l>h;h++)!function(a){j[a]||i.trigger(a,f)}(g[h])}}()},d=function(){a=!1},e=function(){i.clear(),j={}},f=function(a,b){i.on(a,b),j[a]=!1},g=function(a){i.off(a),null!=j[a]&&delete j[a]},l=function(a){j[a]=!0},m=function(b){return null==b?void(a=!0):void(j[b]=!1)},n=function(a){var b=new h(a);return k.push(b),b};return{run:b,stop:d,clear:e,on:f,off:g,pause:l,resume:m,createTimer:n}}();b.exports=l}),define("gamebox/math/clamp",["exports","module"],function(a,b){"use strict";function c(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance")}var d=function(a){var b=void 0===arguments[1]?0:arguments[1],c=void 0===arguments[2]?1:arguments[2];if(b>c){var d=[c,b];b=d[0],c=d[1]}return a>=b&&c>=a?a:a>c?c:b};d.array=function(a){var b=c(a,3),e=b[0],f=b[1],g=b[2];return d(e,f,g)},d.obj=function(a){var b=a.value,c=a.min,e=a.max;return d(b,c,e)},b.exports=d}),define("gamebox/math",["exports","module","./clamp","./lerp","./inverselerp"],function(a,b,c,d,e){"use strict";function f(a){return a&&a.__esModule?a["default"]:a}var g=f(c),h=f(d),i=f(e);b.exports={clamp:g,lerp:h,inverseLerp:i}}),define("gamebox/math/inverselerp",["exports","module","./lerp"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a["default"]:a}var e=d(c),f=function(a,b,c){return b-e(a,b,c)};b.exports=f}),define("gamebox/math/lerp",["exports","module","./clamp"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a["default"]:a}var e=d(c),f=function(a,b,c){var d=e(c,0,1),f=Math.abs(b-a);return 0===f?a:a+f*d};b.exports=f}),define("gamebox/timer",["exports","module","eventmap","animframe"],function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a["default"]:a}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)}var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function(a,b,c){for(var d=!0;d;){h=j=i=void 0,d=!1;var e=a,f=b,g=c,h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0}},j=e(c),k=function(a){function b(a){var c=this;f(this,b),i(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.interval=a||1e3,this.startTime=-1,this.active=!1,this.paused=!1;var d=0;this.tick=function(b){c.active&&!c.paused&&(0>=a||(c.trigger("tick",b),b-c.startTime-c.interval>d&&(d=b,c.trigger("interval"))))}}return g(b,a),h(b,[{key:"start",value:function(){this.active=!0,this.paused=!1,this.startTime=d.performance.now(),this.trigger("start")}},{key:"pause",value:function(){this.paused=!0,this.trigger("pause")}},{key:"unpause",value:function(){this.paused=!1,this.trigger("unpause")}},{key:"stop",value:function(){this.paused=!1,this.active=!1,this.trigger("stop")}}]),b}(j);b.exports=k}),define("gamebox/tween",["exports","module","eventmap","bezier-easing","./loop"],function(a,b,c,d,e){"use strict";function f(a){return a&&a.__esModule?a["default"]:a}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)}var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a,b,c){for(var d=!0;d;){h=j=i=void 0,d=!1;var e=a,f=b,g=c,h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0}},k=f(c),l=f(d),m=f(e),n=function(a){function b(){g(this,b),j(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.target=null}return h(b,a),i(b,[{key:"animate",value:function(a,b,c,d){var e=this;if(this.target&&"number"==typeof this.target[a]){var f=this.target[a];if(f===b)return this.trigger("start"),void this.trigger("end");d=d||"linear";var g=m.createTimer();g.interval=c,g.on("start",function(){e.trigger("start")}),g.start(),g.on("tick",function(c){var h=l.css[d](c/(g.startTime+g.interval)),i=(b-f)*h;i>b&&(i=b),e.target[a]=i,e.trigger("animate",i)}),g.on("interval",function(){g.stop(),e.target[a]=b,e.trigger("end")})}}}]),b}(k);b.exports=n}),define("gamebox/types/color",["exports","module","../math/clamp"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a["default"]:a}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=d(c),h=function(){function a(){var b=void 0===arguments[0]?0:arguments[0],c=void 0===arguments[1]?0:arguments[1],d=void 0===arguments[2]?0:arguments[2],f=void 0===arguments[3]?1:arguments[3];e(this,a),this.set(b,c,d,f)}return f(a,[{key:"set",value:function(){var a=void 0===arguments[0]?0:arguments[0],b=void 0===arguments[1]?0:arguments[1],c=void 0===arguments[2]?0:arguments[2],d=void 0===arguments[3]?1:arguments[3];this.r=a,this.g=b,this.b=c,this.a=d}},{key:"lighten",value:function(a){a=g(a,0,1),this.r=g(this.r+255*a|0,0,255),this.g=g(this.g+255*a|0,0,255),this.b=g(this.b+255*a|0,0,255)}},{key:"darken",value:function(a){a=g(a,0,1),this.r=g(this.r-255*a|0,0,255),this.g=g(this.g-255*a|0,0,255),this.b=g(this.b-255*a|0,0,255)}},{key:"fadeIn",value:function(a){a=g(a,0,1),this.a=this.a+this.a*a,this.a>1&&(this.a=1)}},{key:"fadeOut",value:function(a){a=g(a,0,1),this.a=this.a-this.a*a,this.a<0&&(this.a=0)}},{key:"toJSON",value:function(){return this.a<1?0===this.a?"transparent":"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":"rgb("+this.r+","+this.g+","+this.b+")"}},{key:"toString",value:function(){return this.toJSON()}},{key:"toHex",value:function(){return"#"+this.r.toString(16)+this.g.toString(16)+this.b.toString(16)}}],[{key:"random",value:function(){var b=[0,0,0];return b=b.map(function(){return~~(255*Math.random())}),new a(b[0],b[1],b[2])}}]),a}();b.exports=h}),define("gamebox/types",["exports","./color","./vector2","./vector3","./rect"],function(a,b,c,d,e){"use strict";function f(a){return a&&a.__esModule?a["default"]:a}Object.defineProperty(a,"__esModule",{value:!0});var g=f(b),h=f(c),i=f(d),j=f(e),k={};k.Color=g,k.Vector2=h,k.Vector3=i,k.Rect=j,a["default"]=k,a.Color=g,a.Vector2=h,a.Vector3=i,a.Rect=j}),define("gamebox/types/rect",["exports","module","./vector2"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a["default"]:a}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=d(c),h=function(){function a(){var b=void 0===arguments[0]?0:arguments[0],c=void 0===arguments[1]?0:arguments[1],d=void 0===arguments[2]?0:arguments[2],f=void 0===arguments[3]?0:arguments[3];e(this,a),this.x=b,this.y=c,this.w=d,this.h=f}return f(a,[{key:"clone",value:function(){return new a({x:this.x,y:this.y,w:this.w,h:this.h})}},{key:"toJSON",value:function(){return{x:this.x,y:this.y,w:this.w,h:this.h}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"center",value:function(){return new g(this.x+this.w/2,this.y+this.h/2)}},{key:"contains",value:function(a){return a.x>=this.x&&a.y>=this.y&&a.x<this.x+this.w&&a.y<this.y+this.h}}],[{key:"fromString",value:function(b){var c=JSON.parse(b);return new a(c.x,c.y,c.w,c.h)}}]),a}();b.exports=h}),define("gamebox/types/vector2",["exports","module"],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(a){return f.dot(a,a)},f=function(){function a(){var b=void 0===arguments[0]?0:arguments[0],d=void 0===arguments[1]?0:arguments[1];c(this,a),this.set(b,d)}return d(a,[{key:"set",value:function(){var a=void 0===arguments[0]?0:arguments[0],b=void 0===arguments[1]?0:arguments[1];this.x=a,this.y=b}},{key:"magnitude",get:function(){return Math.sqrt(e(this))}},{key:"sqrMagnitude",get:function(){return e(this)}},{key:"angle",get:function(){return Math.atan2(this.x,this.y)}},{key:"toJSON",value:function(){return this.clone()}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"clone",value:function(){return new a(this.x,this.y)}},{key:"add",value:function(a){return this.x+=a.x,this.y+=a.y,this}},{key:"subtract",value:function(a){return this.x-=a.x,this.y-=a.y,this}},{key:"multiply",value:function(a){return this.x*=a.x,this.y*=a.y,this}},{key:"divide",value:function(a){return this.x/=a.x,this.y/=a.y,this}},{key:"normalize",value:function(){return this.x=this.x/this.magnitude,this.y=this.y/this.magnitude,this}},{key:"equals",value:function(a){return this.x===a.x&&this.y===a.y}}],[{key:"dot",value:function(a,b){return a.x*b.x+a.y*b.y}},{key:"fromAngle",value:function(b,c){return new a(c*Math.cos(b),c*Math.sin(b))}},{key:"fromJSON",value:function(b){return new a(b.x,b.y)}},{key:"fromString",value:function(b){return a.fromJSON(JSON.parse(b))}}]),a}();b.exports=f}),define("gamebox/types/vector3",["exports","module"],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(a){return f.dot(a,a)},f=function(){function a(){var b=void 0===arguments[0]?0:arguments[0],d=void 0===arguments[1]?0:arguments[1],e=void 0===arguments[2]?0:arguments[2];c(this,a),this.set(b,d,e)}return d(a,[{key:"set",value:function(){var a=void 0===arguments[0]?0:arguments[0],b=void 0===arguments[1]?0:arguments[1],c=void 0===arguments[2]?0:arguments[2];this.x=a,this.y=b,this.z=c}},{key:"magnitude",get:function(){return Math.sqrt(e(this))}},{key:"sqrMagnitude",get:function(){return e(this)}},{key:"clone",value:function(){return new a(this.x,this.y,this.z)}},{key:"toJSON",value:function(){return this.clone()}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"add",value:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z,this}},{key:"subtract",value:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this}},{key:"multiply",value:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z,this}},{key:"divide",value:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z,this}},{key:"normalize",value:function(){return this.x=this.x/this.magnitude,this.y=this.y/this.magnitude,this.z=this.z/this.magnitude,this}},{key:"equals",value:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z}}],[{key:"dot",value:function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z}},{key:"cross",value:function(b,c){return new a(b.y*c.z-c.y*b.z,b.z*c.x-c.z*b.x,b.x*c.y-c.x*b.y)}},{key:"fromJSON",value:function(b){return new a(b.x,b.y,b.z)}},{key:"fromString",value:function(b){return a.fromJSON(JSON.parse(b))}},{key:"forward",value:function(){return new a(0,0,1)}},{key:"right",value:function(){return new a(1,0,0)}},{key:"one",value:function(){return new a(1,1,1)}},{key:"up",value:function(){return new a(0,1,0)}},{key:"zero",value:function(){return new a(0,0,0)}}]),a}();b.exports=f});